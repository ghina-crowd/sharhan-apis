"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ToNumber = exports.Transform = void 0;
require("reflect-metadata");
function makePropertyMapper(prototype, key, mapper) {
    Object.defineProperty(prototype, key, {
        set(value) {
            Object.defineProperty(this, key, {
                get() {
                    return Reflect.getMetadata(key, this);
                },
                set(value) {
                    Reflect.defineMetadata(key, mapper(value), this);
                },
                enumerable: true,
            });
            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access
            this[key] = value;
        },
        enumerable: true,
    });
}
function Transform(transformer) {
    return function (target, key) {
        makePropertyMapper(target, key, transformer);
    };
}
exports.Transform = Transform;
function ToNumber() {
    return function (target, key) {
        makePropertyMapper(target, key, Number);
    };
}
exports.ToNumber = ToNumber;
//# sourceMappingURL=decorators.js.map